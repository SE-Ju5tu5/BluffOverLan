<!DOCTYPE html>
<html>
<head>
    <title>Bluff Kartenspiel</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/game.css">
    <script src="js/vue.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div id="app">
        <div class="container">
            <!-- Header -->
            <div style="text-align: center; margin-bottom: 30px;">
                <h1>Bluff Kartenspiel</h1>
                <div :class="['status', connectionStatus]">{{ statusText }}</div>
                <div v-if="player">
                    <div class="status connected">Spieler: {{ player.name }}</div>
                </div>
            </div>

            <!-- NEU: 4er-Kombinationen Panel (Links) -->
            <quads-removed-panel 
                :removed-quads="removedQuads"
                @clear="clearRemovedQuads"
            ></quads-removed-panel>

            <!-- Removed Cards Panel (fÃ¼r andere entfernte Karten) -->
            <removed-cards-panel 
                :removed-cards="removedCards"
                @clear="clearRemovedCards"
            ></removed-cards-panel>

            <!-- Played Cards Panel -->
            <played-cards-panel 
                :game-data="gameData"
            ></played-cards-panel>

            <!-- Menu Screen -->
            <menu-screen 
                v-if="currentScreen === 'menu'"
                :games="availableGames"
                :player-name="player?.name || ''"
                @create-game="createGame"
                @join-game="joinGame"
                @change-name="changeName"
            ></menu-screen>

            <!-- Lobby Screen -->
            <lobby-screen 
                v-if="currentScreen === 'lobby'"
                :game-data="gameData"
                :player="player"
                :is-ready="isReady"
                @toggle-ready="toggleReady"
                @leave-game="leaveGame"
            ></lobby-screen>

            <!-- Game Screen -->
            <game-screen 
                v-if="currentScreen === 'game'"
                :game-data="gameData"
                :player="player"
                :player-hand="playerHand"
                :selected-cards="selectedCards"
                :messages="gameMessages"
                @toggle-card="toggleCardSelection"
                @play-cards="playSelectedCards"
                @call-bluff="callBluff"
                @leave-game="leaveGame"
            ></game-screen>

            <!-- Winning Screen -->
            <winning-screen 
                v-if="currentScreen === 'winning'"
                :game-data="gameData"
                :player="player"
                @start-new-game="startNewGame"
                @leave-game="leaveGame"
            ></winning-screen>

            <!-- Losing Screen -->
            <losing-screen 
                v-if="currentScreen === 'losing'"
                :game-data="gameData"
                :player="player"
                @start-new-game="startNewGame"
                @leave-game="leaveGame"
            ></losing-screen>
        </div>
    </div>

    <!-- Scripts in richtiger Reihenfolge -->
    <script src="js/components.js"></script>
    <script src="js/socket-handlers.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
